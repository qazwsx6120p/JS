<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        const people = [
            {
                name: "卡斯柏",
                order: "鍋燒意麵",
                price: 80
            },
            {
                name: "小明",
                order: "牛肉麵",
                price: 120
            },
            {
                name: "漂亮阿姨",
                order: "滷味切盤",
                price: 40
            },
            {
                name: "Ray",
                order: "大麻醬乾麵",
                price: 60
            },
        ];

        // 1. 請一一列出每個人的訂單

        //第一個參數是物件本身
        //第二個參數是陣列索引
        people.forEach(function (item, index) {
            console.log(item, index)
        });
        // for 迴圈
        // for (let i = 0; i < people.length; i++) {
        //     console.log(people[i])
        // }

        //--------------------------------------------

        // 2. 小明看到今天有打八折！！，請將所有訂單新增一個新價格，金額是 80%

        //先設置一個空陣列
        const newOders = [];
        people.forEach(function (item, index) {
            //將原本陣列的值,用push方法放進newOrder陣列

            newOders[index] = {
                ...item, //<--所有原陣列的展開
                newPrice: item.price * 0.8 //<--增加一個新價格為原本的價格打八折
            }
        });
        console.log(newOders);

        //--------------------------------------------

        //3. 老闆說，今天疫情沒有八折啦，不過 80 元的可以給滷蛋

        const newOders2 = [];
        people.forEach(function (item, index) {
            if (item.price >= 80) {
                newOders2.push(item)
            }
        })
        console.log(newOders2)

        //--------------------------------------------

        //4. 過一段時間後，老闆發現牛肉沒了，把點牛肉麵的換成牛肉湯麵

        let index = 0;
        people.forEach(function (obj, key) {
            if (obj.order === "牛肉麵") {
                index = key;
            }
        })
        people[index].order="牛肉湯麵";
        console.log(people[index].order);

    </script>
</body>

</html>