<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <ul>
        <li></li>
    </ul>
    <script>
        const people = [
            {
                name: "卡斯柏",
                order: "鍋燒意麵",
                price: 80
            },
            {
                name: "小明",
                order: "牛肉麵",
                price: 120
            },
            {
                name: "漂亮阿姨",
                order: "滷味切盤",
                price: 40
            },
            {
                name: "Ray",
                order: "大麻醬乾麵",
                price: 60
            },
        ];

        // 1. 請一一列出每個人的訂單

        
        //--------------------------------------------
        
        // 2. 小明看到今天有打八折！！，請將所有訂單新增一個新價格，金額是 80%

        //map()類似forEach，但不用創建一個空陣列，再塞值，會創造一個陣列
        const newOders=people.map(function(item,index){ 
            return{
                ...item,
                newPrice:item.price*0.8
            }
        });
       console.log(newOders);


        //箭頭函式寫法
       const newOders2=people.map((item,index)=>({
            ...item,
            newPrice:item.price*0.8
       }))
       console.log(newOders2)

        //--------------------------------------------

        //3. 老闆說，今天疫情沒有八折啦，不過 80 元的可以給滷蛋

       const newOders3 = people.filter(function(item,index){
            return item.price>=80;
       });
       console.log(newOders3)

      //箭頭函式寫法
       const newOders4 = people.filter((item,index)=> item.price>=80);

        //--------------------------------------------

        //4. 過一段時間後，老闆發現牛肉沒了，把點牛肉麵的換成牛肉湯麵

        // const index = people.findIndex(function(item,index){
        //     return item.order==="牛肉麵";
        // })
        // people[index].order="牛肉湯麵";
        // console.log(people[index])

        //箭頭函式寫法
        const index2 = people.findIndex((item,index)=>item.order==="牛肉麵");

        people[index2].order="牛肉湯麵";
        console.log(people[index2])
    
      

        //--------------------------------------------

        //5. 老闆說 POS 機壞了，麻煩幫忙出一下 LI 結構，方便列印發

        let htmlTemplate = people.map(function(item,index){
            return `<li>${item.order},${item.price}</li>`
        }).join("") 
        console.log(htmlTemplate)

        //箭頭函式寫法
        let htmlTemplate2=people.map((item,index)=>
        (`<li>${item.order},${item.price}</li>`)).join("")

        console.log(htmlTemplate2)
       

        //--------------------------------------------

        //6. 老闆要收錢了，請問老闆應該收多少錢

        let total = people.reduce(function(acc,cur){ //acc:前一個值 cur:當前值
            // console.log(acc);
            return acc+cur.price; //回傳前一個值(0)+當前值的價格
        },0) //必須設置前一個值(從多少開始加總)

        console.log(total);

        //箭頭函式寫法
        let total2 = people.reduce((acc,cur)=>acc+cur.price,0);

        console.log(total2);


         //--------------------------------------------

         // 7. 今天誰吃最貴！請排序所有的金額

         const peopleSort = people.sort(function(a,b){
            return a.price - b.price //金額低的在前面
         })

         console.log(peopleSort);


       
    </script>
</body>
</html>